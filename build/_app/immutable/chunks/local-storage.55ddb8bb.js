var i=Object.defineProperty,w=(e,t)=>{for(var o in t)i(e,o,{get:t[o],enumerable:!0})},d={};w(d,{convertFileSrc:()=>f,invoke:()=>u,transformCallback:()=>l});function s(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function l(e,t=!1){let o=s(),n=`_${o}`;return Object.defineProperty(window,n,{value:r=>(t&&Reflect.deleteProperty(window,n),e==null?void 0:e(r)),writable:!1,configurable:!0}),o}async function u(e,t={}){return new Promise((o,n)=>{let r=l(a=>{o(a),Reflect.deleteProperty(window,`_${c}`)},!0),c=l(a=>{n(a),Reflect.deleteProperty(window,`_${r}`)},!0);window.__TAURI_IPC__({cmd:e,callback:r,error:c,...t})})}function f(e,t="asset"){let o=encodeURIComponent(e);return navigator.userAgent.includes("Windows")?`https://${t}.localhost/${o}`:`${t}://localhost/${o}`}function g(e,t){window.localStorage.setItem(e,t)}function m(e){return window.localStorage.getItem(e)}export{l as a,u as d,w as e,m as g,g as s};
